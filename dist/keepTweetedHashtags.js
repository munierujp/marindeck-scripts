/* see https://github.com/munierujp/marindeck-scripts */
(()=>{'use strict';var e={467:(e,o)=>{Object.defineProperty(o,'__esModule',{value:!0}),o.hasComposer=void 0;o.hasComposer=e=>e instanceof HTMLElement&&null!==e.querySelector('textarea.js-compose-text')},737:(e,o,t)=>{Object.defineProperty(o,'__esModule',{value:!0}),o.onComposerDisabledStateChange=void 0;const r=t(652),n=()=>document.querySelector('.drawer[data-drawer="compose"] textarea.js-compose-text')??void 0;o.onComposerDisabledStateChange=e=>{const o=new MutationObserver((()=>{const o=n();e(o?.disabled??!1)}));(0,r.onComposerShown)((e=>{if(!e)return void o.disconnect();const t=n();void 0!==t&&o.observe(t,{attributes:!0,attributeFilter:['disabled']})}))}},652:(e,o,t)=>{Object.defineProperty(o,'__esModule',{value:!0}),o.onComposerShown=void 0;const r=t(467);o.onComposerShown=e=>{const o=document.querySelector('.app-content');if(null===o)throw new Error('Not found drawer (`.app-content`)');let t;const n=n=>{if(n.length>0){const o=n.some((({addedNodes:e})=>Array.from(e).some((e=>(0,r.hasComposer)(e)))));if(n.some((({removedNodes:e})=>Array.from(e).some((e=>(0,r.hasComposer)(e)))))&&o)return e(!1),t=!1,void requestAnimationFrame((()=>{e(!0),t=!0}))}if(1!==(o?.querySelectorAll('textarea.js-compose-text')??[]).length)return!0!==t&&void 0!==t||e(!1),void(t=!1);!1!==t&&void 0!==t||e(!0),t=!0},s=new MutationObserver(n);return s.observe(o,{childList:!0,subtree:!0}),n([]),()=>{s.disconnect()}}},319:(e,o,t)=>{Object.defineProperty(o,'__esModule',{value:!0}),o.onReady=void 0;const r=t(467);o.onReady=async()=>await new Promise((e=>{const o=new MutationObserver((t=>{t.some((({addedNodes:e})=>Array.from(e).some((e=>(0,r.hasComposer)(e)))))&&(o.disconnect(),e())}));o.observe(document.body,{childList:!0,subtree:!0})}))}},o={};function t(r){var n=o[r];if(void 0!==n)return n.exports;var s=o[r]={exports:{}};return e[r](s,s.exports,t),s.exports}(()=>{const e=t(737),o=t(652),r=t(319);!function(){const t='textarea.js-compose-text';(0,r.onReady)().then((async()=>{let r=[];document.body.addEventListener('keyup',(({target:e})=>{e instanceof HTMLTextAreaElement&&e.matches(t)&&(r=window.twttrTxt.extractHashtags(e.value))}),!0);const n=()=>{if(0===r.length)return;const e=document.querySelector(t);null!==e&&(e.value=` ${r.map((e=>`#${e}`)).join(' ')}`,e.selectionStart=0,e.selectionEnd=0,e.dispatchEvent(new Event('change')))};(0,e.onComposerDisabledStateChange)((e=>{e||n()})),(0,o.onComposerShown)((e=>{e&&n()}))})).catch((e=>console.error(e)))}()})()})();