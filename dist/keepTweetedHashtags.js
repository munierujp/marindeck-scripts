(()=>{'use strict';!function(){const e=e=>{const t=document.querySelector('.app-content');if(null===t)throw new Error('Not found drawer (`.app-content`)');let o;const r=r=>{if(r.length>0){const t=r.some((({removedNodes:e})=>Array.from(e).some((e=>e instanceof HTMLElement&&null!==e.querySelector('textarea.js-compose-text'))))),n=r.some((({addedNodes:e})=>Array.from(e).some((e=>e instanceof HTMLElement&&null!==e.querySelector('textarea.js-compose-text')))));if(t&&n)return e(!1),o=!1,void requestAnimationFrame((()=>{e(!0),o=!0}))}if(!(1===(t?.querySelectorAll('textarea.js-compose-text')??[]).length))return!0!==o&&void 0!==o||e(!1),void(o=!1);!1!==o&&void 0!==o||e(!0),o=!0},n=new MutationObserver(r);return n.observe(t,{childList:!0,subtree:!0}),r([]),()=>{n.disconnect()}};(async()=>{await(async e=>await new Promise((t=>{setTimeout(t,e)})))(1e3);let t=[];document.body.addEventListener('keyup',(({target:e})=>{if(!(null!==e&&e instanceof HTMLTextAreaElement&&e.matches('textarea.js-compose-text')))return;const o=(r=e.value,window.twttrTxt.extractHashtags(r));var r;t=o}),!0);const o=()=>{if(0===t.length)return;const e=document.querySelector('textarea.js-compose-text');null!==e&&(e.value=` ${t.map((e=>`#${e}`)).join(' ')}`,e.selectionStart=0,e.selectionEnd=0,e.dispatchEvent(new Event('change')))};(t=>{const o=new MutationObserver((()=>{const e=document.querySelector('.drawer[data-drawer="compose"] textarea.js-compose-text');t(e?.disabled??!1)}));e((e=>{if(!e)return void o.disconnect();const t=document.querySelector('.drawer[data-drawer="compose"] textarea.js-compose-text');null!==t&&o.observe(t,{attributes:!0,attributeFilter:['disabled']})}))})((e=>{e||o()})),e((e=>{e&&o()}))})().catch((e=>console.error(e)))}()})();